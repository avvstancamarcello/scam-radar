name: Deploy to IONOS via SFTP

on:
  push: 
    branches:  [ main ]
  workflow_dispatch:

jobs:
  deploy:
    runs-on:  ubuntu-latest
    
    steps:
    - name:  Checkout code
      uses: actions/checkout@v4
    
    - name: Deploy via SFTP
      uses: SamKirkland/FTP-Deploy-Action@v4. 3.4
      with:
        server: access987331546.webspace-data.io
        username: u112962051
        password: ${{ secrets. IONOS_SFTP_PASSWORD }}
        protocol: ftps
        port: 21
        server-dir: /
        exclude: |
          **/. git*
          **/.git*/**
          **/node_modules/**
          **/.github/**
